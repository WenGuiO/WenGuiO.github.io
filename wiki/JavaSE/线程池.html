<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/WenGuiO.github.io/tree/1.18.5">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>
  <meta name="msvalidate.01" content="45968838DFB6C9D5B590645B5E53E4F5" />

  <meta name="360-site-verification" content="fd51027118ddbf66f8025e6cc73e816c" />
  <meta name="baidu-site-verification" content="codeva-l18amtgLO6" />
  <meta name="sogou_site_verification" content="PW4jAJ0fbl" />
  <meta name="bytedance-verification-code" content="hyqYqjYQ1Udxu1V3G4bO" />

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">

  <title>JavaSEï¼šçº¿ç¨‹æ±  - é—»æ¡‚ã®å°çª</title>

  
    <meta name="description" content="çº¿ç¨‹æ± ä»‹ç»çº¿ç¨‹æ± æ˜¯ä¸€ä¸ªå¯ä»¥å¤ç”¨çº¿ç¨‹çš„æŠ€æœ¯ã€‚ å¦‚æœç”¨æˆ·æ¯å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œåå°å°±åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ¥å¤„ç†ï¼Œä¸‹æ¬¡æ–°ä»»åŠ¡æ¥äº†åˆè¦å†æ¬¡åˆ›å»ºæ–°çº¿ç¨‹ï¼Œè€Œçº¿ç¨‹çš„åˆ›å»ºå¯¹äºç³»ç»Ÿçš„å¼€é”€æ˜¯å¾ˆå¤§çš„ï¼Œä¼šä¸¥é‡å½±å“ç³»ç»Ÿæ€§èƒ½ã€‚ çº¿ç¨‹æ± ä¾¿æ˜¯ä¸ºå¤„ç†è¿™ä¸€çŠ¶å†µã€‚ å·¥ä½œæµç¨‹æäº¤ä¸€ä¸ªä»»åŠ¡åˆ°çº¿ç¨‹æ± ä¸­ï¼Œçº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š    åˆ¤æ–­çº¿ç¨‹æ± é‡Œçš„æ ¸å¿ƒçº¿ç¨‹æ˜¯å¦éƒ½åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚æœä¸æ˜¯ï¼ˆæ ¸å¿ƒçº¿ç¨‹ç©ºé—²æˆ–è€…è¿˜æœ‰æ ¸å¿ƒçº¿ç¨‹æ²¡æœ‰è¢«åˆ›å»ºï¼‰åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡">
<meta property="og:type" content="website">
<meta property="og:title" content="çº¿ç¨‹æ± ">
<meta property="og:url" content="https://wengui.work/wiki/JavaSE/%E7%BA%BF%E7%A8%8B%E6%B1%A0.html">
<meta property="og:site_name" content="é—»æ¡‚ã®å°çª">
<meta property="og:description" content="çº¿ç¨‹æ± ä»‹ç»çº¿ç¨‹æ± æ˜¯ä¸€ä¸ªå¯ä»¥å¤ç”¨çº¿ç¨‹çš„æŠ€æœ¯ã€‚ å¦‚æœç”¨æˆ·æ¯å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œåå°å°±åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ¥å¤„ç†ï¼Œä¸‹æ¬¡æ–°ä»»åŠ¡æ¥äº†åˆè¦å†æ¬¡åˆ›å»ºæ–°çº¿ç¨‹ï¼Œè€Œçº¿ç¨‹çš„åˆ›å»ºå¯¹äºç³»ç»Ÿçš„å¼€é”€æ˜¯å¾ˆå¤§çš„ï¼Œä¼šä¸¥é‡å½±å“ç³»ç»Ÿæ€§èƒ½ã€‚ çº¿ç¨‹æ± ä¾¿æ˜¯ä¸ºå¤„ç†è¿™ä¸€çŠ¶å†µã€‚ å·¥ä½œæµç¨‹æäº¤ä¸€ä¸ªä»»åŠ¡åˆ°çº¿ç¨‹æ± ä¸­ï¼Œçº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š    åˆ¤æ–­çº¿ç¨‹æ± é‡Œçš„æ ¸å¿ƒçº¿ç¨‹æ˜¯å¦éƒ½åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚æœä¸æ˜¯ï¼ˆæ ¸å¿ƒçº¿ç¨‹ç©ºé—²æˆ–è€…è¿˜æœ‰æ ¸å¿ƒçº¿ç¨‹æ²¡æœ‰è¢«åˆ›å»ºï¼‰åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wengui.work/assets/wiki/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.png">
<meta property="og:image" content="https://wengui.work/assets/wiki/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E9%98%BF%E9%87%8C%E5%B7%B4%E5%B7%B4%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C-EXecutors.png">
<meta property="article:published_time" content="2022-01-13T12:49:00.000Z">
<meta property="article:modified_time" content="2023-01-15T15:05:45.222Z">
<meta property="article:author" content="wengui">
<meta property="article:tag" content="wengui, åšå®¢">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wengui.work/assets/wiki/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.png">
  
  

  </script>
  
  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="/assets/img/favicon.png">
  

  

  


  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='wiki'>
    

  




<div class="widgets"><widget class="widget-wrapper logo-wrap wiki"><div class="widget-body"><a style="filter: grayscale(100%)" class="wiki-home cap" href="/wiki"><svg aria-hidden="true" viewBox="0 0 16 16" width="1rem" height="1rem" fill="currentColor"><path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path></svg>æ™ºåº“åˆ—è¡¨</a><a class="title" href="/wiki/JavaSE/index.html"><div class="main" ff="title">JavaSE</div><div class="sub normal cap">JavaSE</div><div class="sub hover cap" style="opacity:0"> Java ä¹‹è·¯</div></a></div></widget>
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" data-filter="/wiki/JavaSE/" placeholder="åœ¨ /wiki/JavaSE/ ä¸­æœç´¢"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">æŠ±æ­‰ï¼Œæ²¡æœ‰æ‰¾åˆ°å†…å®¹æ¬§~~æ¢ä¸ªå…³é”®è¯è¯•è¯•ï¼</div></div></div></widget>




<widget class="widget-wrapper toc multi" id="data-toc"><div class="widget-header cap dis-select"><span class="name">ä»‹ç»ç”³æ˜</span></div><div class="widget-body fs14"><div class="doc-tree"><a class="doc-tree-link" href="/wiki/JavaSE/index.html#start"><span class="toc-text">JavaSE æ¦‚è§ˆ</span></a></div></div><div class="widget-header cap dis-select"><span class="name">å¤šçº¿ç¨‹</span></div><div class="widget-body fs14"><div class="doc-tree"><a class="doc-tree-link" href="/wiki/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B.html"><span class="toc-text">å¤šçº¿ç¨‹</span></a></div><div class="doc-tree active"><a class="doc-tree-link active" href="/wiki/JavaSE/%E7%BA%BF%E7%A8%8B%E6%B1%A0.html"><span class="toc-text">çº¿ç¨‹æ± </span></a><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E4%BB%8B%E7%BB%8D"><span class="toc-text">çº¿ç¨‹æ± ä»‹ç»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text">å·¥ä½œæµç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-text">çº¿ç¨‹æ± çš„åˆ›å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-ExecutorService"><span class="toc-text">1. ExecutorService</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ThreadPoolExecutor"><span class="toc-text">2. ThreadPoolExecutor</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E4%BD%BF%E7%94%A8%E4%BB%A5%E5%8F%8A%E5%88%86%E6%9E%90"><span class="toc-text">çº¿ç¨‹æ± çš„ä½¿ç”¨ä»¥åŠåˆ†æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EXecutors"><span class="toc-text">EXecutors</span></a></li></ol></div></div></widget>



<widget class="widget-wrapper related"><div class="widget-header cap theme dis-select"><span class="name">æ›´å¤šçŸ¥è¯†åº“</span></div><div class="widget-body related-posts"><a class="item wiki" href="/wiki/JavaWeb/index.html"><span class="title">JavaWeb - è¿›é˜¶ä¹‹è·¯</span><span class="excerpt">Javaå­¦ä¹ è¿›é˜¶ä¹‹è·¯</span></a><a class="item wiki" href="/wiki/WebSecurity/index.html"><span class="title">ç½‘ç»œå®‰å…¨</span><span class="excerpt">ç½‘ç»œå®‰å…¨çŸ¥è¯†è®°å½• | æ–°æ‰‹çº¢å®¢ä¹‹å…»æˆ</span></a></div></widget>
</div>


    </aside>
    <div class='l_main'>
      
      

  
  
<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" id="home" href="/">ä¸»é¡µ</a><span class="sep"></span><a class="cap breadcrumb" id="menu" href="/wiki/">æ™ºåº“</a><span class="sep"></span><a class="cap breadcrumb" id="proj" href="/wiki/JavaSE/index.html">JavaSE</a></div><div id="post-meta">æ›´æ–°äº&nbsp;<time datetime="2023-01-15T15:05:45.222Z">2023-01-15</time></div></div>

  <article class='md-text content wiki'>
  <h1 class="article-title"><span>çº¿ç¨‹æ± </span></h1>
  <h2 id="çº¿ç¨‹æ± ä»‹ç»"><a href="#çº¿ç¨‹æ± ä»‹ç»" class="headerlink" title="çº¿ç¨‹æ± ä»‹ç»"></a>çº¿ç¨‹æ± ä»‹ç»</h2><p>çº¿ç¨‹æ± æ˜¯ä¸€ä¸ªå¯ä»¥å¤ç”¨çº¿ç¨‹çš„æŠ€æœ¯ã€‚</p>
<p>å¦‚æœç”¨æˆ·æ¯å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œåå°å°±åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ¥å¤„ç†ï¼Œä¸‹æ¬¡æ–°ä»»åŠ¡æ¥äº†åˆè¦å†æ¬¡åˆ›å»ºæ–°çº¿ç¨‹ï¼Œè€Œçº¿ç¨‹çš„åˆ›å»ºå¯¹äºç³»ç»Ÿçš„å¼€é”€æ˜¯å¾ˆå¤§çš„ï¼Œä¼šä¸¥é‡å½±å“ç³»ç»Ÿæ€§èƒ½ã€‚</p>
<p>çº¿ç¨‹æ± ä¾¿æ˜¯ä¸ºå¤„ç†è¿™ä¸€çŠ¶å†µã€‚</p>
<h2 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h2><p>æäº¤ä¸€ä¸ªä»»åŠ¡åˆ°çº¿ç¨‹æ± ä¸­ï¼Œçº¿ç¨‹æ± çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/assets/wiki/JavaSE/å¤šçº¿ç¨‹/çº¿ç¨‹æ± å·¥ä½œæµç¨‹.png"/></div></div>

<ol>
<li>åˆ¤æ–­çº¿ç¨‹æ± é‡Œçš„<strong>æ ¸å¿ƒçº¿ç¨‹</strong>æ˜¯å¦éƒ½åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚æœä¸æ˜¯ï¼ˆæ ¸å¿ƒçº¿ç¨‹ç©ºé—²æˆ–è€…è¿˜æœ‰æ ¸å¿ƒçº¿ç¨‹æ²¡æœ‰è¢«åˆ›å»ºï¼‰åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚å¦‚æœæ ¸å¿ƒçº¿ç¨‹éƒ½åœ¨æ‰§è¡Œä»»åŠ¡ï¼Œåˆ™è¿›å…¥ä¸‹ä¸ªæµç¨‹ã€‚</li>
<li>çº¿ç¨‹æ± åˆ¤æ–­ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ï¼Œå¦‚æœå·¥ä½œé˜Ÿåˆ—æ²¡æœ‰æ»¡ï¼Œåˆ™å°†æ–°æäº¤çš„ä»»åŠ¡å­˜å‚¨åœ¨è¿™ä¸ªå·¥ä½œé˜Ÿåˆ—é‡Œã€‚å¦‚æœå·¥ä½œé˜Ÿåˆ—æ»¡äº†ï¼Œåˆ™è¿›å…¥ä¸‹ä¸ªæµç¨‹ã€‚</li>
<li>åˆ¤æ–­çº¿ç¨‹æ± é‡Œçš„çº¿ç¨‹æ˜¯å¦éƒ½å¤„äºå·¥ä½œçŠ¶æ€ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚å¦‚æœå·²ç»æ»¡äº†ï¼Œåˆ™äº¤ç»™é¥±å’Œç­–ç•¥æ¥å¤„ç†è¿™ä¸ªä»»åŠ¡ã€‚</li>
</ol>
<p>å…·ä½“çš„åˆ†æè¯·æµè§ˆä¸‹æ–‡ä¸­ï¼š   <a href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E7%9A%84%E4%BD%BF%E7%94%A8">çº¿ç¨‹æ± çš„ä½¿ç”¨ä»¥åŠåˆ†æ</a></p>
<h2 id="çº¿ç¨‹æ± çš„åˆ›å»º"><a href="#çº¿ç¨‹æ± çš„åˆ›å»º" class="headerlink" title="çº¿ç¨‹æ± çš„åˆ›å»º"></a>çº¿ç¨‹æ± çš„åˆ›å»º</h2><p>æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ï¼š <code>ExecutorService  </code>å’Œ<code>ThreadPoolExecutor</code>ã€‚</p>
<h3 id="1-ExecutorService"><a href="#1-ExecutorService" class="headerlink" title="1. ExecutorService"></a>1. <code>ExecutorService</code></h3><p>JDK5æä¾›çš„ä»£è¡¨çº¿ç¨‹æ± çš„æ¥å£ï¼Œæˆ‘ä»¬åªéœ€äº†è§£å…¶æ–¹æ³•ã€‚</p>
<table>
<thead>
<tr>
<th>å˜é‡å’Œç±»å‹</th>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>void</td>
<td><strong>execute(Runnable command)</strong></td>
<td>Executoræ¥å£ä¸­çš„æ–¹æ³•,åœ¨å°†æ¥çš„æŸä¸ªæ—¶é—´æ‰§è¡Œç»™å®šçš„å‘½ä»¤ã€‚</td>
</tr>
<tr>
<td>boolean</td>
<td>awaitTermination(long timeout, TimeUnit unit)</td>
<td>é˜»æ­¢æ‰€æœ‰ä»»åŠ¡åœ¨å…³é—­è¯·æ±‚ä¹‹åå®Œæˆæ‰§è¡Œï¼Œæˆ–å‘ç”Ÿè¶…æ—¶ï¼Œæˆ–è€…å½“å‰çº¿ç¨‹è¢«ä¸­æ–­ï¼Œä»¥å…ˆå‘ç”Ÿè€…ä¸ºå‡†ã€‚</td>
</tr>
<tr>
<td>&lt;T&gt; List&lt;Future&lt;T&gt;&gt;</td>
<td>invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks)</td>
<td>æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œè¿”å›å®Œæˆæ‰€æœ‰çŠ¶æ€å’Œç»“æœçš„Futuresåˆ—è¡¨ã€‚</td>
</tr>
<tr>
<td>&lt;T&gt; List&lt;Future&lt;T&gt;&gt;</td>
<td>invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit)</td>
<td>æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œè¿”å›ä¸€ä¸ªFuturesåˆ—è¡¨ï¼Œåœ¨å®Œæˆæˆ–è¶…æ—¶åˆ°æœŸæ—¶ä¿æŒå…¶çŠ¶æ€å’Œç»“æœï¼Œä»¥å…ˆå‘ç”Ÿè€…ä¸ºå‡†ã€‚</td>
</tr>
<tr>
<td>&lt;T&gt; T</td>
<td>invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks)</td>
<td>æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œè¿”å›å·²æˆåŠŸå®Œæˆçš„ä»»åŠ¡çš„ç»“æœï¼ˆå³ï¼Œä¸æŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œå¦‚æœæœ‰çš„è¯ã€‚</td>
</tr>
<tr>
<td>&lt;T&gt; T</td>
<td>invokeAny(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks, long timeout, TimeUnit unit)</td>
<td>æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ï¼Œè¿”å›å·²æˆåŠŸå®Œæˆçš„ä»»åŠ¡çš„ç»“æœï¼ˆå³ï¼Œä¸æŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œå¦‚æœåœ¨ç»™å®šçš„è¶…æ—¶ä¹‹å‰å·²ç»æ‰§è¡Œäº†ä»»ä½•æ“ä½œã€‚</td>
</tr>
<tr>
<td>boolean</td>
<td>isShutdown()</td>
<td>å¦‚æœæ­¤æ‰§è¡Œç¨‹åºå·²å…³é—­ï¼Œåˆ™è¿”å› true ã€‚</td>
</tr>
<tr>
<td>boolean</td>
<td>isTerminated()</td>
<td>å¦‚æœå…³é—­åæ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œåˆ™è¿”å› true ã€‚</td>
</tr>
<tr>
<td>void</td>
<td><strong>shutdown()</strong></td>
<td>å¯åŠ¨æœ‰åºå…³é—­ï¼Œå…¶ä¸­å…ˆå‰æäº¤çš„ä»»åŠ¡å°†è¢«æ‰§è¡Œï¼Œä½†ä¸ä¼šæ¥å—ä»»ä½•æ–°ä»»åŠ¡ã€‚</td>
</tr>
<tr>
<td>List&lt;Runnable&gt;</td>
<td><strong>shutdownNow()</strong></td>
<td>å°è¯•åœæ­¢æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œåœæ­¢ç­‰å¾…ä»»åŠ¡çš„å¤„ç†ï¼Œå¹¶è¿”å›ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚</td>
</tr>
<tr>
<td>Future&lt;?&gt;</td>
<td><strong>submit(Runnable task)</strong></td>
<td>æäº¤Runnableä»»åŠ¡ä»¥æ‰§è¡Œå¹¶è¿”å›è¡¨ç¤ºè¯¥ä»»åŠ¡çš„Futureã€‚</td>
</tr>
<tr>
<td>&lt;T&gt; Future&lt;T&gt;</td>
<td><strong>submit(Runnable task, T result)</strong></td>
<td>æäº¤Runnableä»»åŠ¡ä»¥æ‰§è¡Œå¹¶è¿”å›è¡¨ç¤ºè¯¥ä»»åŠ¡çš„Futureã€‚</td>
</tr>
<tr>
<td>&lt;T&gt; Future&lt;T&gt;</td>
<td><strong>submit(Callable&lt;T&gt; task)</strong></td>
<td>æäº¤å€¼è¿”å›ä»»åŠ¡ä»¥æ‰§è¡Œå¹¶è¿”å›è¡¨ç¤ºä»»åŠ¡çš„æŒ‚èµ·ç»“æœçš„Futureã€‚</td>
</tr>
</tbody></table>
<h3 id="2-ThreadPoolExecutor"><a href="#2-ThreadPoolExecutor" class="headerlink" title="2. ThreadPoolExecutor"></a>2. <code>ThreadPoolExecutor</code></h3><p><code>ExecutorService</code>çš„å®ç°ç±»<code>ThreadPoolExecutor</code>ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ„é€ å™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">ThreadPoolExecutor</span><span class="params">(<span class="type">int</span> corePoolSize,</span></span><br><span class="line"><span class="params">                          <span class="type">int</span> maximumPoolSize,</span></span><br><span class="line"><span class="params">                          <span class="type">long</span> keepAliveTime,</span></span><br><span class="line"><span class="params">                          TimeUnit unit,</span></span><br><span class="line"><span class="params">                          BlockingQueue&lt;Runnable&gt; workQueue,</span></span><br><span class="line"><span class="params">                          ThreadFactory threadFactory,</span></span><br><span class="line"><span class="params">                          RejectedExecutionHandler handler)</span></span><br></pre></td></tr></table></figure>
<div class="tag-plugin folders" ><details class="folder" index="0"><summary><span>æ„é€ å™¨</span></summary><div class="body"><table><thead><tr><th>æ„é€ å™¨</th><th>æè¿°</th></tr></thead><tbody><tr><td>ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue)</td><td>ä½¿ç”¨ç»™å®šçš„åˆå§‹å‚æ•°åˆ›å»ºæ–°çš„ ThreadPoolExecutor ï¼Œé»˜è®¤çº¿ç¨‹å·¥å‚å’Œé»˜è®¤æ‹’ç»æ‰§è¡Œå¤„ç†ç¨‹åºã€‚</td></tr><tr><td>ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, RejectedExecutionHandler handler)</td><td>åˆ›å»ºä¸€ä¸ªæ–°çš„ ThreadPoolExecutorç»™å®šçš„åˆå§‹å‚æ•°å’Œ default thread factory ã€‚</td></tr><tr><td>ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory)</td><td>åˆ›å»ºä¸€ä¸ªæ–°çš„ThreadPoolExecutorç»™å®šçš„åˆå§‹å‚æ•°å’Œdefault rejected execution handlerã€‚</td></tr><tr><td>ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler)</td><td>ä½¿ç”¨ç»™å®šçš„åˆå§‹å‚æ•°åˆ›å»ºæ–°çš„ ThreadPoolExecutor ã€‚</td></tr></tbody></table></div></details><details class="folder" index="1"><summary><span>æ–¹æ³•</span></summary><div class="body"><table><thead><tr><th>å˜é‡å’Œç±»å‹</th><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>protected void</td><td>afterExecute(Runnable r, Throwable t)</td><td>å®Œæˆç»™å®šRunnableçš„æ‰§è¡Œåè°ƒç”¨çš„æ–¹æ³•ã€‚</td></tr><tr><td>void</td><td>allowCoreThreadTimeOut(boolean value)</td><td>è®¾ç½®ç®¡ç†æ ¸å¿ƒçº¿ç¨‹æ˜¯å¦å¯ä»¥è¶…æ—¶å¹¶åœ¨ä¿æŒæ´»åŠ¨æ—¶é—´å†…æ²¡æœ‰ä»»åŠ¡åˆ°è¾¾æ—¶ç»ˆæ­¢çš„ç­–ç•¥ï¼Œåœ¨æ–°ä»»åŠ¡åˆ°è¾¾æ—¶æ ¹æ®éœ€è¦è¿›è¡Œæ›¿æ¢ã€‚</td></tr><tr><td>boolean</td><td>allowsCoreThreadTimeOut()</td><td>å¦‚æœæ­¤æ± å…è®¸æ ¸å¿ƒçº¿ç¨‹è¶…æ—¶å¹¶åœ¨keepAliveæ—¶é—´å†…æ²¡æœ‰ä»»åŠ¡åˆ°è¾¾æ—¶ç»ˆæ­¢ï¼Œåˆ™è¿”å›trueï¼Œåœ¨æ–°ä»»åŠ¡åˆ°è¾¾æ—¶æ ¹æ®éœ€è¦è¿›è¡Œæ›¿æ¢ã€‚</td></tr><tr><td>protected void</td><td>beforeExecute(Thread t, Runnable r)</td><td>åœ¨ç»™å®šçº¿ç¨‹ä¸­æ‰§è¡Œç»™å®šRunnableä¹‹å‰è°ƒç”¨çš„æ–¹æ³•ã€‚</td></tr><tr><td>void</td><td>execute(Runnable command)</td><td>å°†æ¥æŸä¸ªæ—¶å€™æ‰§è¡Œç»™å®šçš„ä»»åŠ¡ã€‚</td></tr><tr><td>protected void</td><td>finalize()</td><td>å·²è¿‡æ—¶ã€‚</td></tr><tr><td>int</td><td>getActiveCount()</td><td>è¿”å›æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„å¤§è‡´çº¿ç¨‹æ•°ã€‚</td></tr><tr><td>long</td><td>getCompletedTaskCount()</td><td>è¿”å›å·²å®Œæˆæ‰§è¡Œçš„å¤§è‡´ä»»åŠ¡æ€»æ•°ã€‚</td></tr><tr><td>int</td><td>getCorePoolSize()</td><td>è¿”å›æ ¸å¿ƒçº¿ç¨‹æ•°ã€‚</td></tr><tr><td>long</td><td>getKeepAliveTime(TimeUnit unit)</td><td>è¿”å›çº¿ç¨‹ä¿æŒæ´»åŠ¨æ—¶é—´ï¼Œå®ƒæ˜¯çº¿ç¨‹åœ¨ç»ˆæ­¢ä¹‹å‰ä¿æŒç©ºé—²çš„æ—¶é—´é‡ã€‚</td></tr><tr><td>int</td><td>getLargestPoolSize()</td><td>è¿”å›åŒæ—¶å­˜åœ¨äºæ± ä¸­çš„æœ€å¤§çº¿ç¨‹æ•°ã€‚</td></tr><tr><td>int</td><td>getMaximumPoolSize()</td><td>è¿”å›å…è®¸çš„æœ€å¤§çº¿ç¨‹æ•°ã€‚</td></tr><tr><td>int</td><td>getPoolSize()</td><td>è¿”å›æ± ä¸­å½“å‰çš„çº¿ç¨‹æ•°ã€‚</td></tr><tr><td>BlockingQueue&lt;Runnable&gt;</td><td>getQueue()</td><td>è¿”å›æ­¤æ‰§è¡Œç¨‹åºä½¿ç”¨çš„ä»»åŠ¡é˜Ÿåˆ—ã€‚</td></tr><tr><td>RejectedExecutionHandler</td><td>getRejectedExecutionHandler()</td><td>è¿”å›ä¸å¯æ‰§è¡Œä»»åŠ¡çš„å½“å‰å¤„ç†ç¨‹åºã€‚</td></tr><tr><td>long</td><td>getTaskCount()</td><td>è¿”å›å·²å®‰æ’æ‰§è¡Œçš„å¤§è‡´ä»»åŠ¡æ€»æ•°ã€‚</td></tr><tr><td>ThreadFactory</td><td>getThreadFactory()</td><td>è¿”å›ç”¨äºåˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹å·¥å‚ã€‚</td></tr><tr><td>boolean</td><td>isTerminating()</td><td>å¦‚æœæ­¤æ‰§è¡Œç¨‹åºåœ¨ shutdown()æˆ– shutdownNow()ä¹‹åç»ˆæ­¢ä½†å°šæœªå®Œå…¨ç»ˆæ­¢ï¼Œåˆ™è¿”å›trueã€‚</td></tr><tr><td>int</td><td>prestartAllCoreThreads()</td><td>å¯åŠ¨æ‰€æœ‰æ ¸å¿ƒçº¿ç¨‹ï¼Œå¯¼è‡´å®ƒä»¬æ— æ‰€äº‹äº‹åœ°ç­‰å¾…å·¥ä½œã€‚</td></tr><tr><td>boolean</td><td>prestartCoreThread()</td><td>å¯åŠ¨ä¸€ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼Œå¯¼è‡´å®ƒæ— æ‰€äº‹äº‹åœ°ç­‰å¾…å·¥ä½œã€‚</td></tr><tr><td>void</td><td>purge()</td><td>å°è¯•ä»å·¥ä½œé˜Ÿåˆ—ä¸­åˆ é™¤å·²å–æ¶ˆçš„æ‰€æœ‰Futureä»»åŠ¡ã€‚</td></tr><tr><td>boolean</td><td>remove(Runnable task)</td><td>å¦‚æœæ‰§è¡Œç¨‹åºçš„å†…éƒ¨é˜Ÿåˆ—å­˜åœ¨ï¼Œåˆ™ä»æ‰§è¡Œç¨‹åºçš„å†…éƒ¨é˜Ÿåˆ—ä¸­åˆ é™¤æ­¤ä»»åŠ¡ï¼Œä»è€Œå¯¼è‡´å®ƒåœ¨å°šæœªå¯åŠ¨æ—¶ä¸ä¼šè¿è¡Œã€‚</td></tr><tr><td>void</td><td>setCorePoolSize(int corePoolSize)</td><td>è®¾ç½®æ ¸å¿ƒçº¿ç¨‹æ•°ã€‚</td></tr><tr><td>void</td><td>setKeepAliveTime(long time, TimeUnit unit)</td><td>è®¾ç½®çº¿ç¨‹ä¿æŒæ´»åŠ¨æ—¶é—´ï¼Œå³çº¿ç¨‹åœ¨ç»ˆæ­¢ä¹‹å‰å¯ä»¥ä¿æŒç©ºé—²çš„æ—¶é—´é‡ã€‚</td></tr><tr><td>void</td><td>setMaximumPoolSize(int maximumPoolSize)</td><td>è®¾ç½®å…è®¸çš„æœ€å¤§çº¿ç¨‹æ•°ã€‚</td></tr><tr><td>void</td><td>setRejectedExecutionHandler(RejectedExecutionHandler handler)</td><td>ä¸ºä¸å¯æ‰§è¡Œçš„ä»»åŠ¡è®¾ç½®æ–°çš„å¤„ç†ç¨‹åºã€‚</td></tr><tr><td>void</td><td>setThreadFactory(ThreadFactory threadFactory)</td><td>è®¾ç½®ç”¨äºåˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹å·¥å‚ã€‚</td></tr><tr><td>void</td><td>shutdown()</td><td>å¯åŠ¨æœ‰åºå…³é—­ï¼Œå…¶ä¸­å…ˆå‰æäº¤çš„ä»»åŠ¡å°†è¢«æ‰§è¡Œï¼Œä½†ä¸ä¼šæ¥å—ä»»ä½•æ–°ä»»åŠ¡ã€‚</td></tr><tr><td>List &lt; Runnable&gt;</td><td>shutdownNow()</td><td>å°è¯•åœæ­¢æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œåœæ­¢ç­‰å¾…ä»»åŠ¡çš„å¤„ç†ï¼Œå¹¶è¿”å›ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚</td></tr><tr><td>protected void</td><td>terminated()</td><td>Executorç»ˆæ­¢æ—¶è°ƒç”¨çš„æ–¹æ³•ã€‚</td></tr><tr><td>String</td><td>toString()</td><td>è¿”å›æ ‡è¯†æ­¤æ± åŠå…¶çŠ¶æ€çš„å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬è¿è¡ŒçŠ¶æ€å’Œä¼°è®¡çš„å·¥ä½œå’Œä»»åŠ¡è®¡æ•°çš„æŒ‡ç¤ºã€‚</td></tr></tbody></table></div></details></div>
<p>å‚æ•°ä»‹ç»ï¼š</p>
<p><code>corePoolSize</code>ï¼šçº¿ç¨‹æ± æ ¸å¿ƒçº¿ç¨‹æ•°é‡ï¼Œä¸èƒ½å°äº 0 ã€‚</p>
<p><code>maximumPoolSize</code>: çº¿ç¨‹æ± å¯æ”¯æŒçš„æœ€å¤§çº¿ç¨‹æ•°é‡ï¼Œæœ€å¤§æ•°é‡ &gt;&#x3D; æ ¸å¿ƒçº¿ç¨‹æ•°é‡ã€‚</p>
<p><code>keepAliverTime</code>ï¼šå½“æ´»è·ƒçº¿ç¨‹æ•°å¤§äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œä¸´æ—¶çº¿ç¨‹çš„æœ€å¤§å­˜æ´»æ—¶é—´, ä¸èƒ½å°äº 0 ã€‚</p>
<p><code>unit</code>ï¼šå­˜æ´»æ—¶é—´çš„å•ä½ï¼Œä¸èƒ½ä¸º null ã€‚</p>
<p><code>workQueue</code>ï¼šå­˜æ”¾ä»»åŠ¡çš„é˜Ÿåˆ—ï¼Œä¸èƒ½ä¸º null ã€‚</p>
<p><code>handler</code>ï¼šè¶…å‡ºçº¿ç¨‹èŒƒå›´å’Œé˜Ÿåˆ—å®¹é‡çš„ä»»åŠ¡çš„å¤„ç†ç¨‹åºï¼Œä¸èƒ½ä¸º null ã€‚</p>
<blockquote>
<p>  1.<strong>ä¸´æ—¶çº¿ç¨‹çš„åˆ›å»ºæ—¶æœº</strong>ï¼šæ–°ä»»åŠ¡æäº¤æ—¶ï¼Œå‘ç°æ ¸å¿ƒçº¿ç¨‹åœ¨å¿™ï¼Œä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ä¸”è¿˜å¯ä»¥åˆ›å»ºä¸´æ—¶çº¿ç¨‹ï¼Œæ­¤æ—¶æ‰ä¼šåˆ›å»ºã€‚</p>
<p>  2.<strong>æ‹’ç»ä»»åŠ¡çš„æ—¶æœº</strong>ï¼šæ ¸å¿ƒçº¿ç¨‹å’Œä¸´æ—¶çº¿ç¨‹éƒ½åœ¨å¿™ï¼Œä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼Œæ­¤æ—¶å¼€å§‹æ‹’ç»ä»»åŠ¡ã€‚</p>
</blockquote>
<h2 id="çº¿ç¨‹æ± çš„ä½¿ç”¨ä»¥åŠåˆ†æ"><a href="#çº¿ç¨‹æ± çš„ä½¿ç”¨ä»¥åŠåˆ†æ" class="headerlink" title="çº¿ç¨‹æ± çš„ä½¿ç”¨ä»¥åŠåˆ†æ"></a>çº¿ç¨‹æ± çš„ä½¿ç”¨ä»¥åŠåˆ†æ</h2><p>é¦–å…ˆæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªçº¿ç¨‹ , å®ç°å…¶æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">          		System.out.println(Thread.currentThread().getName() + <span class="string">&quot;è¾“å‡ºäº†&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæˆ‘ä»¬å†åˆ›å»ºçº¿ç¨‹æ± ï¼Œ3ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼Œæœ€å¤§çº¿ç¨‹5ä¸ªï¼ˆä¹Ÿå°±æ˜¯ä¸´æ—¶çº¿ç¨‹åªèƒ½åˆ›å»º2ä¸ªï¼‰ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¸º5ã€‚</p>
<p>æˆ‘ä»¬é¦–å…ˆå¯åŠ¨<strong>3ä¸ªçº¿ç¨‹ä»»åŠ¡</strong>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">threadPoolDemo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»º çº¿ç¨‹æ±  å¯¹è±¡</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,</span><br><span class="line">                TimeUnit.SECONDS,<span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">5</span>), Executors.defaultThreadFactory(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.AbortPolicy());</span><br><span class="line">        <span class="comment">//åˆ›å»º çº¿ç¨‹ å¯¹è±¡</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line">        <span class="comment">//å°† 3ä¸ªçº¿ç¨‹ä»»åŠ¡ æ”¾å…¥çº¿ç¨‹æ± </span></span><br><span class="line">        pool.execute(target);</span><br><span class="line">        pool.execute(target);</span><br><span class="line">        pool.execute(target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">pool-1-thread-3è¾“å‡ºäº†0</span></span><br><span class="line"><span class="string">pool-1-thread-1è¾“å‡ºäº†0</span></span><br><span class="line"><span class="string">pool-1-thread-2è¾“å‡ºäº†0</span></span><br><span class="line"><span class="string">pool-1-thread-1è¾“å‡ºäº†1</span></span><br><span class="line"><span class="string">pool-1-thread-3è¾“å‡ºäº†1</span></span><br><span class="line"><span class="string">pool-1-thread-1è¾“å‡ºäº†2</span></span><br><span class="line"><span class="string">pool-1-thread-2è¾“å‡ºäº†1</span></span><br><span class="line"><span class="string">pool-1-thread-3è¾“å‡ºäº†2</span></span><br><span class="line"><span class="string">pool-1-thread-2è¾“å‡ºäº†2</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬çœ‹åˆ°ï¼Œ3ä¸ªçº¿ç¨‹åœ¨å·¥ä½œå¹¶æ‰§è¡Œè¾“å‡ºã€‚</p>
<p>éšåï¼Œæˆ‘ä»¬æµ‹è¯•<strong>5ä¸ªçº¿ç¨‹ä»»åŠ¡</strong>ï¼Œå¯¹å…¶ä»£ç è¿›è¡Œæ”¹è¿›å¢åŠ çº¿ç¨‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">threadPoolDemo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»º çº¿ç¨‹æ±  å¯¹è±¡</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,</span><br><span class="line">                TimeUnit.SECONDS,<span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">5</span>), Executors.defaultThreadFactory(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.AbortPolicy());</span><br><span class="line">        <span class="comment">//åˆ›å»º çº¿ç¨‹ å¯¹è±¡</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line">        <span class="comment">//å°† 5ä¸ªçº¿ç¨‹ä»»åŠ¡ æ”¾å…¥çº¿ç¨‹æ± </span></span><br><span class="line">        pool.execute(target);</span><br><span class="line">        pool.execute(target);</span><br><span class="line">        pool.execute(target);</span><br><span class="line">      	pool.execute(target);</span><br><span class="line">        pool.execute(target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å†æ¬¡è¿è¡ŒæŸ¥çœ‹ç»“æœï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">pool-1-thread-3è¾“å‡ºäº†0</span></span><br><span class="line"><span class="string">pool-1-thread-1è¾“å‡ºäº†0</span></span><br><span class="line"><span class="string">pool-1-thread-3è¾“å‡ºäº†1</span></span><br><span class="line"><span class="string">pool-1-thread-3è¾“å‡ºäº†2</span>		<span class="string">--1</span></span><br><span class="line"><span class="string">pool-1-thread-2è¾“å‡ºäº†1</span></span><br><span class="line"><span class="string">pool-1-thread-1è¾“å‡ºäº†1</span></span><br><span class="line"><span class="string">pool-1-thread-3è¾“å‡ºäº†0</span></span><br><span class="line"><span class="string">pool-1-thread-3è¾“å‡ºäº†1</span></span><br><span class="line"><span class="string">pool-1-thread-2è¾“å‡ºäº†2</span>		<span class="string">--2</span></span><br><span class="line"><span class="string">pool-1-thread-3è¾“å‡ºäº†2</span>		<span class="string">--3</span></span><br><span class="line"><span class="string">pool-1-thread-1è¾“å‡ºäº†2</span>		<span class="string">--4</span></span><br><span class="line"><span class="string">pool-1-thread-2è¾“å‡ºäº†0</span></span><br><span class="line"><span class="string">pool-1-thread-2è¾“å‡ºäº†1</span></span><br><span class="line"><span class="string">pool-1-thread-2è¾“å‡ºäº†2</span>		<span class="string">--5</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å‘ç°ï¼Œè¿˜æ˜¯3ä¸ªçº¿ç¨‹åœ¨å·¥ä½œï¼Œè¿™3ä¸ªçº¿ç¨‹ä¾¿æ˜¯æˆ‘ä»¬çº¿ç¨‹æ± è®¾ç½®çš„3ä¸ªæ ¸å¿ƒçº¿ç¨‹ã€‚ä½†æ˜¯5ä¸ªçº¿ç¨‹ä»»åŠ¡éƒ½å·²å®Œæˆï¼Œè¯´æ˜æˆ‘ä»¬çš„ä»»åŠ¡æ‰§è¡Œæ—¶ä¾é æˆ‘ä»¬çš„æ ¸å¿ƒçº¿ç¨‹æ¥å®Œæˆçš„ã€‚æˆ‘ä»¬çš„3ä¸ªæ ¸å¿ƒçº¿ç¨‹ä¼˜å…ˆå¤„ç†3ä¸ªçº¿ç¨‹ä»»åŠ¡ï¼Œå‰©ä¸‹ä¸¤ä¸ªä»»åŠ¡ä¾¿æ”¾åœ¨ä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…æ ¸å¿ƒçº¿ç¨‹å®Œæˆä¸Šä¸€ä¸ªä»»åŠ¡ï¼Œéšåæ‰§è¡Œã€‚</p>
<p>ä¸Šè¿°ä¾‹å­å‡æ²¡æœ‰ä¸´æ—¶çº¿ç¨‹çš„å‡ºç°ï¼Œæˆ‘ä»¬æµ‹è¯•<strong>11ä¸ªçº¿ç¨‹ä»»åŠ¡</strong>ï¼Œå› çº¿ç¨‹è¾ƒå¤šï¼Œæˆ‘ä»¬åŒæ—¶å¯¹çº¿ç¨‹ç±»<code>MyRunnable</code>è¿›è¡Œæ”¹è¿›ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;åœ¨æ‰§è¡Œ ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">threadPoolDemo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»º çº¿ç¨‹æ±  å¯¹è±¡</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,</span><br><span class="line">                TimeUnit.SECONDS,<span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">5</span>), Executors.defaultThreadFactory(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.AbortPolicy());</span><br><span class="line">        <span class="comment">//åˆ›å»º çº¿ç¨‹ å¯¹è±¡</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line">        <span class="comment">//å°† 11ä¸ªçº¿ç¨‹ä»»åŠ¡ æ”¾å…¥çº¿ç¨‹æ± </span></span><br><span class="line">        pool.execute(target);</span><br><span class="line">        pool.execute(target);</span><br><span class="line">        pool.execute(target);</span><br><span class="line">        pool.execute(target);</span><br><span class="line">        pool.execute(target);	<span class="comment">//5</span></span><br><span class="line">        pool.execute(target);</span><br><span class="line">        pool.execute(target);</span><br><span class="line">      	pool.execute(target);</span><br><span class="line">        pool.execute(target)ï¼›</span><br><span class="line">        pool.execute(target);	<span class="comment">//10</span></span><br><span class="line">        pool.execute(target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éšåï¼Œæˆ‘ä»¬æŸ¥çœ‹ç»“æœï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">pool-1-thread-3åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span></span><br><span class="line"><span class="string">pool-1-thread-4åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span></span><br><span class="line"><span class="string">pool-1-thread-1åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span></span><br><span class="line"><span class="string">pool-1-thread-5åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span></span><br><span class="line"><span class="string">pool-1-thread-1åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span>	<span class="string">--5</span></span><br><span class="line"><span class="string">pool-1-thread-2åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span></span><br><span class="line"><span class="string">pool-1-thread-1åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span></span><br><span class="line"><span class="string">pool-1-thread-5åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span></span><br><span class="line"><span class="string">pool-1-thread-3åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span></span><br><span class="line"><span class="string">pool-1-thread-4åœ¨æ‰§è¡Œ</span> <span class="string">ï¼</span>	<span class="string">--10</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å‘ç°ï¼Œ<code>thread-4</code>å’Œ<code>thread-5</code>å‡ºç°äº†ã€‚æˆ‘ä»¬æ‰§è¡Œ11ä¸ªçº¿ç¨‹ä»»åŠ¡ï¼Œæ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œå‰é¢çš„3ä¸ªçº¿ç¨‹ä»»åŠ¡ï¼Œéšåæäº¤çš„5ä¸ªå­˜è¿›ä»»åŠ¡é˜Ÿåˆ—ï¼Œè€Œåé¢æäº¤çš„3ä¸ªçº¿ç¨‹ä»»åŠ¡ï¼Œå‘ç°æ ¸å¿ƒçº¿ç¨‹åœ¨å·¥ä½œï¼Œä»»åŠ¡é˜Ÿåˆ—ä¹Ÿæ»¡äº†ï¼Œæ­¤æ—¶ä¼šåˆ›å»ºä¸´æ—¶çº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªçº¿ç¨‹ä»»åŠ¡ã€‚çº¿ç¨‹æ± ä¸­æœ€å¤§çº¿ç¨‹æ•°æ˜¯5ï¼Œæ‰€ä»¥æœ‰ä¸¤ä¸ªçº¿ç¨‹ä»»åŠ¡ä¼šä¼˜å…ˆè¢«ä¸´æ—¶çº¿ç¨‹æ¥å¤„ç†ï¼Œç„¶åä¸´æ—¶çº¿ç¨‹å†æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—çš„çº¿ç¨‹ä»»åŠ¡ã€‚æœ€åä¸€ä¸ªçº¿ç¨‹ä»»åŠ¡ç”±äº5ä¸ªçº¿ç¨‹éƒ½åœ¨å·¥ä½œï¼Œä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ï¼Œè€Œè¢«é¥±å’Œï¼ˆæ‹’ç»ï¼‰ç­–ç•¥<code>ThreadPoolExecutor.AbortPolicy()</code>ç»™æ‹’ç»ï¼Œæ•…åªè¾“å‡ºäº†10ä¸ªç»“æœã€‚è‹¥ç¬¬11ä¸ªçº¿ç¨‹ä»»åŠ¡æ™šä¸€äº›æäº¤ï¼Œåˆ™çº¿ç¨‹é˜Ÿåˆ—ä¼šæœ‰å‰©ä½™ç©ºé—´ï¼Œç¬¬11ä¸ªçº¿ç¨‹ä»»åŠ¡å°†ä¼šè¢«æ‰§è¡Œã€‚</p>
<h2 id="EXecutors"><a href="#EXecutors" class="headerlink" title="EXecutors"></a>EXecutors</h2><p><code>EXecutors</code> æ˜¯çº¿ç¨‹æ± çš„å·¥å…·ç±»ï¼Œé€šè¿‡è°ƒç”¨æ–¹æ³•è¿”å›ä¸åŒçš„çº¿ç¨‹æ± å¯¹è±¡ã€‚</p>
<p>å¸¸ç”¨çš„æ–¹æ³•ï¼ˆåŠ ç²—ï¼‰å¦‚ä¸‹:</p>
<table>
<thead>
<tr>
<th>å˜é‡å’Œç±»å‹</th>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>static Callable&lt;Object&gt;</td>
<td>callable(Runnable task)</td>
<td>è¿”å›ä¸€ä¸ªCallableå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨è°ƒç”¨æ—¶è¿è¡Œç»™å®šä»»åŠ¡å¹¶è¿”å›nullã€‚</td>
</tr>
<tr>
<td>static &lt;T&gt; Callable&lt;T&gt;</td>
<td>callable(Runnable task, T result)</td>
<td>è¿”å›ä¸€ä¸ªCallableå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨è°ƒç”¨æ—¶è¿è¡Œç»™å®šä»»åŠ¡å¹¶è¿”å›ç»™å®šç»“æœã€‚</td>
</tr>
<tr>
<td>static Callable&lt;Object&gt;</td>
<td>callable(PrivilegedAction&lt;?&gt; action)</td>
<td>è¿”å›ä¸€ä¸ªCallableå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨è°ƒç”¨æ—¶è¿è¡Œç»™å®šçš„ç‰¹æƒæ“ä½œå¹¶è¿”å›å…¶ç»“æœã€‚</td>
</tr>
<tr>
<td>static Callable&lt;Object&gt;</td>
<td>callable(PrivilegedExceptionAction&lt;?&gt; action)</td>
<td>è¿”å›ä¸€ä¸ªCallableå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨è°ƒç”¨æ—¶è¿è¡Œç»™å®šçš„ç‰¹æƒå¼‚å¸¸æ“ä½œå¹¶è¿”å›å…¶ç»“æœã€‚</td>
</tr>
<tr>
<td>static ThreadFactory</td>
<td>defaultThreadFactory()</td>
<td>è¿”å›ç”¨äºåˆ›å»ºæ–°çº¿ç¨‹çš„é»˜è®¤çº¿ç¨‹å·¥å‚ã€‚</td>
</tr>
<tr>
<td>static ExecutorService</td>
<td><code>newCachedThreadPool()</code></td>
<td>åˆ›å»ºä¸€ä¸ªæ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ•°é‡éšç€ä»»åŠ¡çš„å¢åŠ è€Œå¢åŠ ï¼Œå¦‚æœçº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¸”ç©ºé—²äº†ä¸€æ®µæ—¶é—´åˆ™è¢«å›æ”¶ã€‚</td>
</tr>
<tr>
<td>static ExecutorService</td>
<td>newCachedThreadPool(ThreadFactory threadFactory)</td>
<td>åˆ›å»ºä¸€ä¸ªæ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œä½†åœ¨å®ƒä»¬å¯ç”¨æ—¶å°†é‡ç”¨ä»¥å‰æ„é€ çš„çº¿ç¨‹ï¼Œå¹¶åœ¨éœ€è¦æ—¶ä½¿ç”¨æä¾›çš„ThreadFactoryåˆ›å»ºæ–°çº¿ç¨‹ã€‚</td>
</tr>
<tr>
<td>static ExecutorService</td>
<td><code>newFixedThreadPool(int nThreads)</code></td>
<td>åˆ›å»ºå›ºå®šçº¿ç¨‹æ•°é‡çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹å› æ‰§è¡Œå¼‚å¸¸è€Œç»“æŸï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹æ›¿ä»£å®ƒã€‚</td>
</tr>
<tr>
<td>static ExecutorService</td>
<td>newFixedThreadPool(int nThreads, ThreadFactory threadFactory)</td>
<td>åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œè¯¥çº¿ç¨‹æ± é‡ç”¨åœ¨å…±äº«çš„æ— ç•Œé˜Ÿåˆ—ä¸­è¿è¡Œçš„å›ºå®šæ•°é‡çš„çº¿ç¨‹ï¼Œä½¿ç”¨æä¾›çš„ThreadFactoryåœ¨éœ€è¦æ—¶åˆ›å»ºæ–°çº¿ç¨‹ã€‚</td>
</tr>
<tr>
<td>static ScheduledExecutorService</td>
<td>newScheduledThreadPool(int corePoolSize)</td>
<td>åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œå¯ä»¥è°ƒåº¦å‘½ä»¤åœ¨ç»™å®šçš„å»¶è¿Ÿåè¿è¡Œï¼Œæˆ–è€…å®šæœŸæ‰§è¡Œã€‚</td>
</tr>
<tr>
<td>static ScheduledExecutorService</td>
<td><code>newScheduledThreadPool</code>(int corePoolSize, ThreadFactory threadFactory)</td>
<td>åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œå¯ä»¥è°ƒåº¦å‘½ä»¤åœ¨ç»™å®šçš„å»¶è¿Ÿåè¿è¡Œï¼Œæˆ–è€…å®šæœŸæ‰§è¡Œä»»åŠ¡ã€‚</td>
</tr>
<tr>
<td>static ExecutorService</td>
<td><code>newSingleThreadExecutor()</code></td>
<td>åˆ›å»ºä¸€ä¸ªExecutorï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹å†å·¥ä½œï¼Œåœ¨æ— ç•Œé˜Ÿåˆ—ä¸­è¿è¡Œã€‚</td>
</tr>
<tr>
<td>static ExecutorService</td>
<td>newSingleThreadExecutor(ThreadFactory threadFactory)</td>
<td>åˆ›å»ºä¸€ä¸ªExecutorï¼Œå®ƒä½¿ç”¨ä¸€ä¸ªåœ¨æ— ç•Œé˜Ÿåˆ—ä¸­è¿è¡Œçš„å·¥ä½œçº¿ç¨‹ï¼Œå¹¶åœ¨éœ€è¦æ—¶ä½¿ç”¨æä¾›çš„ThreadFactoryåˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ã€‚</td>
</tr>
<tr>
<td>static ScheduledExecutorService</td>
<td>newSingleThreadScheduledExecutor()</td>
<td>åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹æ‰§è¡Œç¨‹åºï¼Œå¯ä»¥è°ƒåº¦å‘½ä»¤åœ¨ç»™å®šçš„å»¶è¿Ÿåè¿è¡Œï¼Œæˆ–å®šæœŸæ‰§è¡Œã€‚</td>
</tr>
<tr>
<td>static ScheduledExecutorService</td>
<td>newSingleThreadScheduledExecutor(ThreadFactory threadFactory)</td>
<td>åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹æ‰§è¡Œç¨‹åºï¼Œå¯ä»¥è°ƒåº¦å‘½ä»¤åœ¨ç»™å®šçš„å»¶è¿Ÿåè¿è¡Œï¼Œæˆ–å®šæœŸæ‰§è¡Œã€‚</td>
</tr>
<tr>
<td>static ExecutorService</td>
<td>newWorkStealingPool()</td>
<td>ä½¿ç”¨ available processorsçš„æ•°é‡ä½œä¸ºå…¶ç›®æ ‡å¹¶è¡Œåº¦çº§åˆ«åˆ›å»ºå·¥ä½œçªƒå–çº¿ç¨‹æ± ã€‚</td>
</tr>
<tr>
<td>static ExecutorService</td>
<td>newWorkStealingPool(int parallelism)</td>
<td>åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œè¯¥çº¿ç¨‹æ± ç»´æŠ¤è¶³å¤Ÿçš„çº¿ç¨‹ä»¥æ”¯æŒç»™å®šçš„å¹¶è¡Œåº¦çº§åˆ«ï¼Œå¹¶å¯ä»¥ä½¿ç”¨å¤šä¸ªé˜Ÿåˆ—æ¥å‡å°‘äº‰ç”¨ã€‚</td>
</tr>
<tr>
<td>static &lt;T&gt; Callable&lt;T&gt;</td>
<td>privilegedCallable(Callable&lt;T&gt; callable)</td>
<td>è¿”å›ä¸€ä¸ªCallableå¯¹è±¡ï¼Œåœ¨è°ƒç”¨æ—¶ï¼Œå°†åœ¨å½“å‰è®¿é—®æ§åˆ¶ä¸Šä¸‹æ–‡ä¸‹æ‰§è¡Œç»™å®šçš„callable ã€‚</td>
</tr>
<tr>
<td>static &lt;T&gt; Callable&lt;T&gt;</td>
<td>privilegedCallableUsingCurrentClassLoader(Callable&lt;T&gt; callable)</td>
<td>è¿”å›ä¸€ä¸ªCallableå¯¹è±¡ï¼Œå½“è°ƒç”¨è¯¥å¯¹è±¡æ—¶ï¼Œå°†åœ¨å½“å‰è®¿é—®æ§åˆ¶ä¸Šä¸‹æ–‡ä¸‹æ‰§è¡Œç»™å®šçš„callable ï¼Œå¹¶å°†å½“å‰ä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ä½œä¸ºä¸Šä¸‹æ–‡ç±»åŠ è½½å™¨ã€‚</td>
</tr>
<tr>
<td>static ThreadFactory</td>
<td>privilegedThreadFactory()</td>
<td>è¿”å›ä¸€ä¸ªçº¿ç¨‹å·¥å‚ï¼Œç”¨äºåˆ›å»ºä¸å½“å‰çº¿ç¨‹å…·æœ‰ç›¸åŒæƒé™çš„æ–°çº¿ç¨‹ã€‚</td>
</tr>
<tr>
<td>static ExecutorService</td>
<td>unconfigurableExecutorService(ExecutorService executor)</td>
<td>è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°†æ‰€æœ‰å·²å®šä¹‰çš„ExecutorServiceæ–¹æ³•å§”æ´¾ç»™ç»™å®šçš„æ‰§è¡Œç¨‹åºï¼Œä½†ä¸èƒ½ä½¿ç”¨å¼ºåˆ¶è½¬æ¢å¯ä»¥è®¿é—®çš„ä»»ä½•å…¶ä»–æ–¹æ³•ã€‚</td>
</tr>
<tr>
<td>static ScheduledExecutorService</td>
<td>unconfigurableScheduledExecutorService(ScheduledExecutorService executor)</td>
<td>è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°†æ‰€æœ‰å·²å®šä¹‰çš„ScheduledExecutorServiceæ–¹æ³•å§”æ‰˜ç»™ç»™å®šçš„æ‰§è¡Œç¨‹åºï¼Œä½†ä¸èƒ½ä½¿ç”¨å¼ºåˆ¶è½¬æ¢å¯ä»¥è®¿é—®çš„ä»»ä½•å…¶ä»–æ–¹æ³•ã€‚</td>
</tr>
</tbody></table>
<blockquote>
<p>  çš†æ˜¯é™æ€æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ã€‚</p>
<p>  åº•å±‚æ˜¯åŸºäºçº¿ç¨‹æ± çš„å®ç°ç±» <code>ThreadPoolExecutor</code>åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡ã€‚</p>
</blockquote>
<p>æ–¹æ³•ä½¿ç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»º å›ºå®šçº¿ç¨‹æ•°é‡ çš„çº¿ç¨‹æ± </span></span><br><span class="line"><span class="type">EXecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> Executors.newFixdThreadPool(<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p> <strong>æ³¨æ„</strong></p>
<p>1.å¤§å‹å¹¶å‘ç³»ç»Ÿç¯å¢ƒä¸­ä½¿ç”¨ <code>Executor</code>å¦‚æœä¸æ³¨æ„å¯èƒ½å‡ºç°ç³»ç»Ÿé£é™©ï¼Œå¦‚</p>
<ul>
<li>å…è®¸è¯·æ±‚çš„ä»»åŠ¡é˜Ÿåˆ—é•¿åº¦æ˜¯ Integer.MAX_VALUEï¼Œå¯èƒ½å‡ºç°OOMé”™è¯¯ï¼ˆjava.lang.OutOfMemeryErrorï¼‰</li>
<li>åˆ›å»ºçš„çº¿ç¨‹æ•°é‡æœ€å¤§ä¸Šé™æ˜¯ Integer.MAX_VALUEï¼Œçº¿ç¨‹æ•°å¯èƒ½éšä»»åŠ¡1ï¼š1å¢åŠ ï¼Œå¯èƒ½å‡ºç°OOMé”™è¯¯ï¼ˆjava.lang.OutOfMemeryErrorï¼‰</li>
</ul>
<p>2.é˜¿é‡Œå·´å·´å¼€å‘æ‰‹å†Œæ¡ˆä¾‹ï¼š</p>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/assets/wiki/JavaSE/å¤šçº¿ç¨‹/é˜¿é‡Œå·´å·´å¼€å‘æ‰‹å†Œ-EXecutors.png"/></div></div>
  


  </article>
  
<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">å›é¡¾ä¸Šä¸€ç¯‡</div><a href="/wiki/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B.html">å¤šçº¿ç¨‹</a></div><div class="item" id="next"></div></section></div>

  

  <div class='related-wrap md-text reveal' id="comments">
    <section class='header cmt-title cap theme'>
      è·¯è¿‡ï¼Œå°±ç•™ä¸‹ä½ çš„è¶³è¿¹å§ï¼
    </section>
    <section class='body cmt-body giscus'>
      

<svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg>

<div id="giscus" data-repo="WenGuiO/BlogState" data-repo-id="R_kgDOI2KBdg" data-category="General" data-category-id="DIC_kwDOI2KBds4CT0UY" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="1" data-input-position="top" data-theme="preferred_color_scheme" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous"></div>

    </section>
  </div>




      
<footer class="page-footer reveal fs12"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs14">åšå®¢</span><a href="/">è¿‘æœŸ</a><a href="/categories/">åˆ†ç±»</a><a href="/tags">æ ‡ç­¾</a><a href="/archives/">å½’æ¡£</a></div><div class="sitemap-group"><span class="fs14">å­¦ä¹ </span><a href="/wiki">é¡¹ç›®</a><a href="/wiki/tags/%E7%9F%A5%E8%AF%86%E5%BA%93/index.html">ç¬”è®°</a><a href="/books/">ä¹¦ç±</a></div><div class="sitemap-group"><span class="fs14">å…³äº</span><a href="/about">æœ¬ç«™ç®€ä»‹</a><a href="/more/">æœ¬ç«™åŠ¨æ€</a><a target="_blank" rel="noopener" href="https://github.com/WenGuiO">GitHub</a><a target="_blank" rel="noopener" href="https://gitee.com/wenguio">Gitee</a></div><div class="sitemap-group"><span class="fs14">æ›´å¤š</span><a href="/notes">å®ç«™</a><a href="/message/">ç•™è¨€</a><a href="/support/">æ”¯æŒ</a><a href="/notes/music/">éŸ³ä¹</a></div></div><div class="text"><p>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<center>
</br>
</br>
<!--ä¸è’œå­è®¡æ•°å™¨-->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!--æ·»åŠ ä¸€ä¸ªè®¿é—®é‡-->
<span>
  æœ¬"<span style="color: rgb(13, 109, 252); font-weight: bold;">é¡µé¢</ a></span>"è®¿é—® 
  <span id="busuanzi_value_page_pv" style="color: rgb(13, 109, 252); font-weight: bold;"></span> æ¬¡ | ğŸ‘€æ€»è®¿é—® 
  <span id="busuanzi_value_site_pv" style="color: rgb(13, 109, 252); font-weight: bold;"></span> æ¬¡ | ğŸ‘¤æ€»è®¿å®¢ 
  <span id="busuanzi_value_site_uv" style="color: rgb(13, 109, 252); font-weight: bold;"></span> äºº
</span>
</br>
</br>
<script type="text/javascript">
function show_runtime() {
    X = new Date("12/26/2022 20:34:01");
    Y = new Date();
    T = (Y.getTime() - X.getTime());
    M = 24 * 60 * 60 * 1000;
    a = T / M;
    A = Math.floor(a);
    b = (a - A) * 24;
    B = Math.floor(b);
    c = (b - B) * 60;
    C = Math.floor((b - B) * 60);
    D = Math.floor((c - C) * 60);
    runtime_span.innerHTML = "â±ï¸æœ¬ç«™å·²è¿è¡Œ " + A + "å¤©" + B + "å°æ—¶" + C + "åˆ†" + D + "ç§’";
}
window.setInterval("show_runtime()", 1000);
</script>
<span id="runtime_span"></span>
</br>
<a herf="https://beian.miit.gov.cn/">æµ™ICPå¤‡2022035187å·-1</a>
</center>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // æ‡’åŠ è½½ css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // ä» butterfly å’Œ volantis è·å¾—çµæ„Ÿ
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // é»˜è®¤å¼‚æ­¥ï¼Œå¦‚æœéœ€è¦åŒæ­¥ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ {} å³å¯
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.18.5';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5';
  stellar.config = {
    date_suffix: {
      just: 'åˆšåˆš',
      min: 'åˆ†é’Ÿå‰',
      hour: 'å°æ—¶å‰',
      day: 'å¤©å‰',
      month: 'ä¸ªæœˆå‰',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function loadJS() {
    const els = document.querySelectorAll("#comments #giscus");
    if (els.length === 0) return;
    els.forEach((el, i) => {
      try {
        el.innerHTML = '';
      } catch (error) {
        console.log(error);
      }
      var script = document.createElement('script');
      script.src = 'https://giscus.app/client.js';
      script.async = true;
      for (let key of Object.keys(el.attributes)) {
        let attr = el.attributes[key];
        if (['class', 'id'].includes(attr.name) === false) {
          script.setAttribute(attr.name, attr.value);
        }
      }
      el.appendChild(script);
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
    loadJS();
  });
</script>




<!-- inject -->


  </div>
</body>
</html>
